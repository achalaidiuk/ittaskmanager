{% extends "base.html" %}

{% block content %}
  <h2>Task Details: {{ task.name }}</h2>

  <p><strong>Description:</strong> {{ task.description }}</p>
  <p><strong>Deadline:</strong> {{ task.deadline }}</p>
  <p><strong>Created at:</strong> {{ task.created_at }}</p>
  <p>
    <span class="badge badge-warning">Done at:</span>
    {% if task.is_completed %}
      {{ task.done_at }}
    {% else %}
      <span class="badge badge-danger">Not completed</span>
    {% endif %}
  </p>

  <h3>Assignees:</h3>
  {% if task.assignees.all %}
    <ul>
      {% for assignee in task.assignees.all %}
        <li>{{ assignee.username }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No assignees for this task.</p>
  {% endif %}

  <div class="mt-3">
    {% if task.assignees.count == 0 %}
      <a href="{% url 'task_manager:take-to-work' task.id %}" class="btn btn-success">Take to Work</a>
    {% endif %}
    <a href="{% url 'task_manager:task-delete' task.id %}" class="btn btn-danger"
       onclick="return confirm('Are you sure you want to delete this task?');">Delete</a>
  </div>

  <a href="{% url 'task_manager:all-tasks' %}" class="btn btn-primary">Back to Tasks List</a>
{% endblock %}
