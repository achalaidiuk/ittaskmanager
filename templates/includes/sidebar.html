{% load static %}

<aside class="sidebar bg-dark text-light" id="sidebar">
  <div class="sidebar-header">
    <h3 id="sidebar-title">Task Manager</h3>
    <button class="sidebar-toggle" type="button" aria-label="Toggle sidebar" onclick="toggleSidebar()">
      <span>&#9776;</span>
    </button>
  </div>
  <div class="sidebar-content">
    <ul class="sidebar-menu">
      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'task_manager:index' %}">Home</a>
      </li>
      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'task_manager:my-tasks' %}">My Tasks</a>
      </li>
      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'task_manager:all-tasks' %}">All Tasks</a>
      </li>
      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'task_manager:team' %}">Team</a>
      </li>
    </ul>
  </div>
  <div class="sidebar-footer">
    {% if user.is_authenticated %}
      <a class="sidebar-link" href="{% url 'logout' %}">
        <i class="fas fa-sign-out-alt"></i> Logout
      </a>
    {% else %}
      <a class="sidebar-link" href="{% url 'task_manager:login' %}">Login</a>
    {% endif %}
  </div>
</aside>

<script>
function toggleSidebar() {
  const sidebar = document.getElementById("sidebar");
  sidebar.classList.toggle("collapsed");

  const title = document.getElementById("sidebar-title");
  title.style.display = sidebar.classList.contains("collapsed") ? "none" : "block";
}
</script>
